{"version":3,"file":"horizontal-scroller.js","sources":["components/horizontal-scroller.vue","/Users/zzj/Documents/HBuilderProjects/datie123/components/horizontal-scroller.vue?type=component"],"sourcesContent":["<template>\r\n\t<scroll-view class=\"scroll-view-horizontal\" scroll-x=\"true\" :show-scrollbar=\"false\">\r\n\t\t<view class=\"tab-item\" :class=\"{ 'is-selected': computedTab.isSelected }\"\r\n\t\t\tv-for=\"(computedTab, index) in computedTabs\" :key=\"index\" @click=\"selectTab(index)\">\r\n\t\t\t{{ computedTab.name }}\r\n\t\t</view>\r\n\t</scroll-view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\ttabs: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => []\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 内部维护选中的tab索引，默认为0，即第一个标签\r\n\t\t\t\tselectedTabIndex: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 根据选中的索引计算每个tab的选中状态\r\n\t\t\tcomputedTabs() {\r\n\t\t\t\tif (this.tabs.length === 0) {\r\n\t\t\t\t\treturn [{\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\tisSelected: false\r\n\t\t\t\t\t}];\r\n\t\t\t\t}\r\n\t\t\t\treturn this.tabs.map((tab, index) => ({\r\n\t\t\t\t\tname: tab,\r\n\t\t\t\t\tisSelected: index === this.selectedTabIndex\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tselectTab(index) {\r\n\t\t\t\t// 设置新的选中索引\r\n\t\t\t\tthis.selectedTabIndex = index;\r\n\t\t\t\t// 触发一个事件，通知父组件哪个标签被选中\r\n\t\t\t\tthis.$emit('tab-change', this.tabs[index]);\r\n\t\t\t},\r\n\t\t\tmounted() {\r\n\t\t\t\tthis.selectTab(0);\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// 监听父组件传递的tabs变化，同步更新内部tabs状态\r\n\t\t\ttabs: {\r\n\t\t\t\timmediate: true,\r\n\t\t\t\thandler(newVal) {\r\n\t\t\t\t\t// 确保selectedTabIndex不会超出tabs的范围\r\n\t\t\t\t\tif (newVal.length > 0) {\r\n\t\t\t\t\t\tthis.selectedTabIndex = 0; // 确保有标签时选中第一个\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.selectedTabIndex = -1; // 没有标签时设置为-1或其他逻辑\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.scroll-view-horizontal {\r\n\t\tdisplay: flex;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow-x: auto;\r\n\t}\r\n\r\n\t.tab-item {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-right: 20px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\tfont-size: 14px;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: black;\r\n\t}\r\n\r\n\t.is-selected {\r\n\t\tcolor: #CE2C32;\r\n\t\t/* 选中标签的文本颜色 */\r\n\t}\r\n\r\n\t.is-selected::after {\r\n\t\tcontent: '';\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\theight: 2px;\r\n\t\tbackground-color: #CE2C32;\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t}\r\n</style>","import Component from '/Users/zzj/Documents/HBuilderProjects/datie123/components/horizontal-scroller.vue'\nwx.createComponent(Component)"],"names":[],"mappings":";;AAUC,MAAK,YAAU;AAAA,EACd,OAAO;AAAA,IACN,MAAM;AAAA,MACL,MAAM;AAAA,MACN,SAAS,MAAM,CAAC;AAAA,IACjB;AAAA,EACA;AAAA,EACD,OAAO;AACN,WAAO;AAAA;AAAA,MAEN,kBAAkB;AAAA;EAEnB;AAAA,EACD,UAAU;AAAA;AAAA,IAET,eAAe;AACd,UAAI,KAAK,KAAK,WAAW,GAAG;AAC3B,eAAO,CAAC;AAAA,UACP,MAAM;AAAA,UACN,YAAY;AAAA,QACb,CAAC;AAAA,MACF;AACA,aAAO,KAAK,KAAK,IAAI,CAAC,KAAK,WAAW;AAAA,QACrC,MAAM;AAAA,QACN,YAAY,UAAU,KAAK;AAAA,MAC3B,EAAC;AAAA,IACH;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,UAAU,OAAO;AAEhB,WAAK,mBAAmB;AAExB,WAAK,MAAM,cAAc,KAAK,KAAK,KAAK,CAAC;AAAA,IACzC;AAAA,IACD,UAAU;AACT,WAAK,UAAU,CAAC;AAAA,IACjB;AAAA,EACA;AAAA,EACD,OAAO;AAAA;AAAA,IAEN,MAAM;AAAA,MACL,WAAW;AAAA,MACX,QAAQ,QAAQ;AAEf,YAAI,OAAO,SAAS,GAAG;AACtB,eAAK,mBAAmB;AAAA,eAClB;AACN,eAAK,mBAAmB;AAAA,QACzB;AAAA,MACD;AAAA,IACD;AAAA,EACD;;;;;;;;;;;;;;;AC7DF,GAAG,gBAAgB,SAAS;"}