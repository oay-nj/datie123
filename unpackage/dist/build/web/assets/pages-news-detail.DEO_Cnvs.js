import{g as t,x as e,y as s,b as a,c as l,w as i,i as o,o as n,d as r,h as c,t as d,n as u,j as h,z as g}from"./index-C9QW_Wng.js";import{_ as p,r as f,a as b}from"./uni-app.es.DQ7_pdQL.js";const v=p({data:()=>({url:"about:blank",pageTitle:"",statusBarHeight:20}),onLoad(s){if(this.statusBarHeight=t().statusBarHeight,s.query)try{this.url=decodeURIComponent(s.query),console.log("Loading URL:",this.url),this.url.startsWith("http://")||this.url.startsWith("https://")||(this.url="https://"+this.url)}catch(a){console.error("URL decode error:",a),e({title:"URL格式错误",icon:"none"})}else console.error("No URL provided"),e({title:"未提供URL",icon:"none"});s.title&&(this.pageTitle=decodeURIComponent(s.title))},methods:{navigateBack(){s()},handlePostMessage(t){if(console.log("PostMessage received:",t.detail),t.detail.data&&t.detail.data.title)if(t.detail.data.title)this.pageTitle=t.detail.data.title;else{const t=this.$refs.webview;t&&t.evaluate("document.title",(t=>{t&&(this.pageTitle=t)}))}}}},[["render",function(t,e,s,p,v,_){const m=f(a("uni-icons"),b),x=h,y=o,k=g;return n(),l(y,{class:"box-bg"},{default:i((()=>[r(y,{class:"custom-navigation",style:u({top:v.statusBarHeight+"px"})},{default:i((()=>[r(y,{class:"nav-back",onClick:_.navigateBack},{default:i((()=>[r(y,{style:{"flex-direction":"row","align-items":"center"}},{default:i((()=>[r(m,{type:"back",size:"24",color:"#000000"}),r(x,{class:"back-text"},{default:i((()=>[c("返回")])),_:1})])),_:1})])),_:1},8,["onClick"]),r(y,{class:"nav-title"},{default:i((()=>[r(x,{class:"title-text"},{default:i((()=>[c(d(v.pageTitle),1)])),_:1})])),_:1})])),_:1},8,["style"]),r(y,{class:"content",style:u({paddingTop:v.statusBarHeight+44+"px"})},{default:i((()=>[r(k,{class:"webview-box",src:v.url,onOnPostMessage:_.handlePostMessage},null,8,["src","onOnPostMessage"])])),_:1},8,["style"])])),_:1})}],["__scopeId","data-v-5923ea20"]]);export{v as default};
