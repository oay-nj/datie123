"use strict";const t=require("../../common/vendor.js"),e={data:()=>({url:"about:blank",pageTitle:"",statusBarHeight:20}),onLoad(e){if(this.statusBarHeight=t.index.getSystemInfoSync().statusBarHeight,e.query)try{this.url=decodeURIComponent(e.query),console.log("Loading URL:",this.url),this.url.startsWith("http://")||this.url.startsWith("https://")||(this.url="https://"+this.url)}catch(a){console.error("URL decode error:",a),t.index.showToast({title:"URL格式错误",icon:"none"})}else console.error("No URL provided"),t.index.showToast({title:"未提供URL",icon:"none"});e.title&&(this.pageTitle=decodeURIComponent(e.title))},methods:{navigateBack(){t.index.navigateBack()},handlePostMessage(t){if(console.log("PostMessage received:",t.detail),t.detail.data&&t.detail.data.title)if(t.detail.data.title)this.pageTitle=t.detail.data.title;else{const t=this.$refs.webview;t&&t.evaluate("document.title",(t=>{t&&(this.pageTitle=t)}))}}}};if(!Array){t.resolveComponent("uni-icons")()}Math;const a=t._export_sfc(e,[["render",function(e,a,s,i,o,n){return{a:t.p({type:"back",size:"24",color:"#000000"}),b:t.o(((...t)=>n.navigateBack&&n.navigateBack(...t))),c:t.t(o.pageTitle),d:o.statusBarHeight+"px",e:o.url,f:t.o(((...t)=>n.handlePostMessage&&n.handlePostMessage(...t))),g:o.statusBarHeight+44+"px"}}]]);wx.createPage(a);
